{% extends 'reports/base.html' %}



{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{% url 'home'  %}">Restaurant</a></li>
<li class="breadcrumb-item"><a href="{% url 'reports'  %}">Reports</a></li>
<li class="breadcrumb-item active">Item Wise Reports</li>
{% endblock %}

{% block content %}
<div class="row mb-4">
    
    
  <a href="{% url 'daywise_reports' %}" style="margin: 5px; margin-left: 0px"><button type="button" class="btn btn-outline-info">Day Wise Reports</button></a>
  <a href="{% url 'cat_reports' %}" style="margin: 5px"><button type="button" class="btn btn-outline-info">Category Reports</button></a>
  <a href="{% url 'subcat_reports' %}" style="margin: 5px"><button type="button" class="btn btn-outline-info">Sub Category Reports</button></a>
  
  <a href="#" style="margin: 5px"><button type="button" class="btn btn-info">Item Wise Reports</button></a>
  <a href="{% url 'daypart_reports' %}" style="margin: 5px"><button type="button" class="btn btn-outline-info">Day Part Reports</button></a>
  
  

</div>
<h5 class="text-center alert alert-danger">Itemwise Sales Report</h5>
<h5 class="text-center alert alert-info">Total Sales : <b>{{total_sales}} Rs.</b></h5>
<div class="row mb-4">
  <div id="container" style="width: 45%;">
    <canvas id="pie-chart"></canvas>
  </div>
  
  
  <script>
    var labels = {{labels|safe}}
    var data = {{data|safe}}
    
  </script>
  
  
  {% if reports %}
<div id="container" style="width: 55%;">
<table class="table">
    <thead class="thead-light">
      <tr>
        
        <th scope="col">Item Name</th>
        <th scope="col">Quantity Sold</th>
        <th scope="col">Total Sales</th>
      </tr>
    </thead>
    <tbody>

{% for data in reports %}

      <tr>
        
        <td>{{data.name}}<span class="badge badge-primary badge-pill">{{data.subcat_name}}</span></td>
        <td>{{data.quantity}}</td>
        <td>{{data.sales}} Rs.</td>
      </tr>

{% endfor %}  
    </tbody>
  </table>
{% else %}
  <p class="alert alert-info">No Reports Yet</p>
{% endif %}
</div>
</div>
{% endblock %}
